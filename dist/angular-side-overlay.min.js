/**
 * angular-side-overlay - angular side overlay component
 * @author taobataoma
 * @version v1.0.0
 * @link https://github.com/taobataoma/angular-side-overlay#readme
 * @license MIT
 */
function sideOverlay(e){function a(a,s,n){function l(a){var s=null;return angular.forEach(e,function(e){e.id===a&&(s=e)}),s}s.addClass("side-overlay"),a.$watch(n.sideOverlay,function(e){switch(n.sideOverlay){case"left":s.css("top","0"),s.css("bottom","0"),s.css("left","0"),s.css("transform","translateX(-101%) translateY(0)");break;case"right":s.css("top","0"),s.css("bottom","0"),s.css("right","0"),s.css("transform","translateX(101%) translateY(0)");break;case"top":s.css("left","0"),s.css("right","0"),s.css("top","0"),s.css("transform","translateX(0) translateY(-101%)");break;case"bottom":s.css("left","0"),s.css("right","0"),s.css("bottom","0"),s.css("transform","translateX(0) translateY(101%)");break;default:s.css("top","0"),s.css("bottom","0"),s.css("right","0"),s.css("transform","translateX(101%) translateY(0)")}}),a.$watch(n.sideModal,function(e){if(n.hasOwnProperty("sideModal")){var a="sideBackground_"+s.attr("id"),l=angular.element('<div id="'+a+'" class="side-background" style="display: none;"></div>');angular.element(document.getElementsByTagName("body")).append(l)}}),a.$watch(n.sideClass,function(e){n.sideClass&&s.addClass(n.sideClass)}),a.$watch(n.sideCloseOnEsc,function(e){n.hasOwnProperty("sideCloseOnEsc")&&$(document).on("keydown",function(e){27===e.keyCode&&s.hasClass("side-visible")&&s.removeClass("side-visible")})}),s.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(e){var t=angular.element(e.target),i=$("#sideBackground_"+s.attr("id")),o=l(t.attr("id"));o&&(t.hasClass("side-visible")?(o.isOpened=!0,"function"==typeof o.openCallback&&a.$apply(function(){o.openCallback()}),a.$apply(function(){a.$eval(n.sideOpened)})):(i&&i.css("display","none"),o.isOpened=!1,"function"==typeof o.closeCallback&&a.$apply(function(){o.closeCallback()}),a.$apply(function(){a.$eval(n.sideClosed)})))})}var s={restrict:"A",link:a};return s}angular.module("ngSideOverlay",[]),angular.module("ngSideOverlay").constant("MODULE_VERSION","1.0.0"),angular.module("ngSideOverlay").value("sideCallbackEvent",[{id:void 0,isOpened:!1,openCallback:void 0,closeCallback:void 0}]),angular.module("ngSideOverlay").provider("SideOverlay",function(){this.$get=["sideCallbackEvent",function(e){function a(a,s,n,l){var t=null;angular.forEach(e,function(e){e.id===a&&(t=e,e.isOpened=s,e.openCallback=n,e.closeCallback=l)}),null===t&&e.push({id:a,isOpened:s,openCallback:n,closeCallback:l})}var s=function(e,s){if(e){a(e,!0,s,null);var n=angular.element(document.getElementById(e));n.hasClass("side-visible")||n.addClass("side-visible");var l=$("#sideBackground_"+e);l&&l.css("display","block")}},n=function(e,s){if(e){a(e,!1,null,s);var n=angular.element(document.getElementById(e));n.hasClass("side-visible")&&n.removeClass("side-visible")}},l=function(a){var s=!1;return angular.forEach(e,function(e){e.id===a&&(s=e.isOpened)}),s};return{isOpened:l,open:s,close:n}}]}),angular.module("ngSideOverlay").directive("sideOverlay",sideOverlay),sideOverlay.$inject=["sideCallbackEvent"];