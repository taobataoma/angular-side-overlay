/**
 * angular-side-overlay - angular side overlay component
 * @author taobataoma
 * @version v1.0.3
 * @link https://github.com/taobataoma/angular-side-overlay#readme
 * @license MIT
 */
function sideOverlay(e){function s(s,a,n){function i(s){var a=null;return angular.forEach(e,function(e){e.id===s&&(a=e)}),a}a.addClass("side-overlay"),s.$watch(n.sideOverlay,function(e){switch(n.sideOverlay){case"left":a.css("top","0"),a.css("bottom","0"),a.css("left","0"),a.css("transform","translateX(-101%) translateY(0)");break;case"right":a.css("top","0"),a.css("bottom","0"),a.css("right","0"),a.css("transform","translateX(101%) translateY(0)");break;case"top":a.css("left","0"),a.css("right","0"),a.css("top","0"),a.css("transform","translateX(0) translateY(-101%)");break;case"bottom":a.css("left","0"),a.css("right","0"),a.css("bottom","0"),a.css("transform","translateX(0) translateY(101%)");break;default:a.css("top","0"),a.css("bottom","0"),a.css("right","0"),a.css("transform","translateX(101%) translateY(0)")}}),s.$watch(n.sideModal,function(e){if(n.hasOwnProperty("sideModal")){var s="sideBackground_"+a.attr("id"),i=angular.element('<div id="'+s+'" class="side-background" style="display: none;"></div>');angular.element(document.getElementsByTagName("body")).append(i)}}),s.$watch(n.sideCloseOnOutsideClick,function(e){n.hasOwnProperty("sideCloseOnOutsideClick")&&$(document.body).on("click",function(e){a.hasClass("side-visible")&&a.removeClass("side-visible")})}),s.$watch(n.sideClass,function(e){n.sideClass&&a.addClass(n.sideClass)}),s.$watch(n.sideCloseOnEsc,function(e){n.hasOwnProperty("sideCloseOnEsc")&&$(document).on("keydown",function(e){27===e.keyCode&&a.hasClass("side-visible")&&a.removeClass("side-visible")})}),a.bind("click",function(e){e.stopPropagation()}),a.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(e){var t=angular.element(e.target),l=$("#sideBackground_"+a.attr("id")),o=i(t.attr("id"));o&&(t.hasClass("side-visible")?(o.isOpened=!0,"function"==typeof o.openCallback&&s.$apply(function(){o.openCallback()}),s.$apply(function(){s.$eval(n.sideOpened)})):(l&&l.css("display","none"),o.isOpened=!1,"function"==typeof o.closeCallback&&s.$apply(function(){o.closeCallback()}),s.$apply(function(){s.$eval(n.sideClosed)})))})}var a={restrict:"A",link:s};return a}angular.module("ngSideOverlay",[]),angular.module("ngSideOverlay").constant("MODULE_VERSION","1.0.3"),angular.module("ngSideOverlay").value("sideCallbackEvent",[{id:void 0,isOpened:!1,openCallback:void 0,closeCallback:void 0}]),angular.module("ngSideOverlay").provider("SideOverlay",function(){this.$get=["sideCallbackEvent",function(e){function s(s,a,n,i){var t=null;angular.forEach(e,function(e){e.id===s&&(t=e,e.isOpened=a,e.openCallback=n,e.closeCallback=i)}),null===t&&e.push({id:s,isOpened:a,openCallback:n,closeCallback:i})}var a=function(e,a,n){if(a){s(a,!0,n,null);var i=angular.element(document.getElementById(a));i.hasClass("side-visible")||i.addClass("side-visible");var t=$("#sideBackground_"+a);t&&t.css("display","block"),e&&"undefined"!=typeof e.altKey&&e.stopPropagation()}},n=function(e,a,n){if(a){s(a,!1,null,n);var i=angular.element(document.getElementById(a));i.hasClass("side-visible")&&i.removeClass("side-visible"),e&&"undefined"!=typeof e.altKey&&e.stopPropagation()}},i=function(s){var a=!1;return angular.forEach(e,function(e){e.id===s&&(a=e.isOpened)}),a};return{isOpened:i,open:a,close:n}}]}),angular.module("ngSideOverlay").directive("sideOverlay",sideOverlay),sideOverlay.$inject=["sideCallbackEvent"];