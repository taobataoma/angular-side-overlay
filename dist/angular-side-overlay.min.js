/**
 * angular-side-overlay - angular side overlay component
 * @author taobataoma
 * @version v1.0.0
 * @link https://github.com/taobataoma/angular-side-overlay#readme
 * @license MIT
 */
function sideOverlay(e){function s(s,a,n){function t(s){var a=null;return angular.forEach(e,function(e){e.id===s&&(a=e)}),a}a.addClass("side-overlay"),s.$watch(n.sideOverlay,function(e){switch(n.sideOverlay){case"left":a.css("top","0"),a.css("bottom","0"),a.css("left","0"),a.css("transform","translateX(-101%) translateY(0)");break;case"right":a.css("top","0"),a.css("bottom","0"),a.css("right","0"),a.css("transform","translateX(101%) translateY(0)");break;case"top":a.css("left","0"),a.css("right","0"),a.css("top","0"),a.css("transform","translateX(0) translateY(-101%)");break;case"bottom":a.css("left","0"),a.css("right","0"),a.css("bottom","0"),a.css("transform","translateX(0) translateY(101%)");break;default:a.css("top","0"),a.css("bottom","0"),a.css("right","0"),a.css("transform","translateX(101%) translateY(0)")}}),s.$watch(n.sideModal,function(e){if(n.hasOwnProperty("sideModal")){var s="sideBackground_"+a.attr("id"),t=angular.element('<div id="'+s+'" class="side-background" style="display: none;"></div>');angular.element(document.getElementsByTagName("body")).append(t)}}),s.$watch(n.sideCloseOnOutsideClick,function(e){n.hasOwnProperty("sideCloseOnOutsideClick")&&$(document.body).on("click",function(e){a.hasClass("side-visible")&&a.removeClass("side-visible")})}),s.$watch(n.sideClass,function(e){n.sideClass&&a.addClass(n.sideClass)}),s.$watch(n.sideCloseOnEsc,function(e){n.hasOwnProperty("sideCloseOnEsc")&&$(document).on("keydown",function(e){27===e.keyCode&&a.hasClass("side-visible")&&a.removeClass("side-visible")})}),a.bind("click",function(e){e.stopPropagation(),e.preventDefault()}),a.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(e){var i=angular.element(e.target),l=$("#sideBackground_"+a.attr("id")),o=t(i.attr("id"));o&&(i.hasClass("side-visible")?(o.isOpened=!0,"function"==typeof o.openCallback&&s.$apply(function(){o.openCallback()}),s.$apply(function(){s.$eval(n.sideOpened)})):(l&&l.css("display","none"),o.isOpened=!1,"function"==typeof o.closeCallback&&s.$apply(function(){o.closeCallback()}),s.$apply(function(){s.$eval(n.sideClosed)})))})}var a={restrict:"A",link:s};return a}angular.module("ngSideOverlay",[]),angular.module("ngSideOverlay").constant("MODULE_VERSION","1.0.1"),angular.module("ngSideOverlay").value("sideCallbackEvent",[{id:void 0,isOpened:!1,openCallback:void 0,closeCallback:void 0}]),angular.module("ngSideOverlay").provider("SideOverlay",function(){this.$get=["sideCallbackEvent",function(e){function s(s,a,n,t){var i=null;angular.forEach(e,function(e){e.id===s&&(i=e,e.isOpened=a,e.openCallback=n,e.closeCallback=t)}),null===i&&e.push({id:s,isOpened:a,openCallback:n,closeCallback:t})}var a=function(e,a,n){if(a){s(a,!0,n,null);var t=angular.element(document.getElementById(a));t.hasClass("side-visible")||t.addClass("side-visible");var i=$("#sideBackground_"+a);i&&i.css("display","block"),e&&"undefined"!=typeof e.altKey&&(e.stopPropagation(),e.preventDefault())}},n=function(e,a,n){if(a){s(a,!1,null,n);var t=angular.element(document.getElementById(a));t.hasClass("side-visible")&&t.removeClass("side-visible"),e&&"undefined"!=typeof e.altKey&&(e.stopPropagation(),e.preventDefault())}},t=function(s){var a=!1;return angular.forEach(e,function(e){e.id===s&&(a=e.isOpened)}),a};return{isOpened:t,open:a,close:n}}]}),angular.module("ngSideOverlay").directive("sideOverlay",sideOverlay),sideOverlay.$inject=["sideCallbackEvent"];